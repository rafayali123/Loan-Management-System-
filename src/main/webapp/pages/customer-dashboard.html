<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Dashboard - Loan Management System</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/responsive.css">
    <link rel="icon" href="/static/images/favicon.jpg">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>LMS Customer</h2>
                <button id="toggleSidebar" class="toggle-btn">â˜°</button>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#" class="nav-link active" data-section="profile">My Profile</a></li>
                    <li><a href="#" class="nav-link" data-section="apply-loan">Apply for Loan</a></li>
                    <li><a href="#" class="nav-link" data-section="loans">Loan Status</a></li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <button class="btn-logout" onclick="logoutCustomer()">Logout</button>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Header -->
            <header class="top-header">
                <h1 id="pageTitle">My Profile</h1>
                <div class="header-right">
                    <input type="search" class="search-box" placeholder="Search...">
                    <div class="user-profile">
                        <img src="/static/images/avatar.jpg" alt="User" class="avatar">
                        <span id="userName">Customer</span>
                    </div>
                </div>
            </header>

            <!-- Content Wrapper -->
            <div class="content-wrapper">

                <!-- Loan Status Overview Cards -->
                <section id="loans-overview" class="loan-stats" style="display: none;">
                    <div class="stat-card">
                        <h3>Total Loans</h3>
                        <p class="stat-number" id="totalLoanCount">0</p>
                        <p class="stat-label">Applications</p>
                    </div>
                    <div class="stat-card">
                        <h3>Pending Approval</h3>
                        <p class="stat-number" id="pendingLoanCount">0</p>
                        <p class="stat-label">Awaiting Review</p>
                    </div>
                    <div class="stat-card">
                        <h3>Approved Loans</h3>
                        <p class="stat-number" id="approvedLoanCount">0</p>
                        <p class="stat-label">Active</p>
                    </div>
                    <div class="stat-card">
                        <h3>Total Amount</h3>
                        <p class="stat-number" id="totalLoanAmount">â‚¹0</p>
                        <p class="stat-label">Requested</p>
                    </div>
                </section>

                <!-- Loan Status Section -->
                <section id="loans" class="content-section">
                    <div class="section-header">
                        <h2>ðŸ“Š Loan Status</h2>
                        <p class="section-subtitle">Track all your loan applications and their current status</p>
                    </div>
                    
                    <div id="loansStatusAlert" class="alert" style="display: none;"></div>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Loan Amount</th>
                                    <th>Interest Rate (%)</th>
                                    <th>Term (Months)</th>
                                    <th>Status</th>
                                    <th>Application Date</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="loansTableBody">
                                <tr>
                                    <td colspan="6" style="text-align: center; padding: 30px; color: #999;">No loan applications yet</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Apply for Loan Section -->
                <section id="apply-loan" class="content-section">
                    <div class="section-header">
                        <h2>ðŸ’³ Apply for Loan</h2>
                        <p class="section-subtitle">Submit a new loan application</p>
                    </div>
                    
                    <div id="loanAlertBox" class="alert" style="display: none;"></div>
                    
                    <div class="form-container">
                        <form id="loanApplicationForm" class="data-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="loanAmount">Requested Amount (Rs.) <span class="required">*</span></label>
                                    <input type="number" id="loanAmount" name="loanAmount" min="10000" max="5000000" step="1000" required placeholder="Minimum Rs. 10,000">
                                    <small style="color: #666;">Minimum: Rs. 10,000 | Maximum: Rs. 50,00,000</small>
                                </div>

                                <div class="form-group">
                                    <label for="loanTerm">Loan Term (Months) <span class="required">*</span></label>
                                    <select id="loanTerm" name="loanTerm" required>
                                        <option value="">Select Duration</option>
                                        <option value="6">6 Months</option>
                                        <option value="12">12 Months (1 Year)</option>
                                        <option value="24">24 Months (2 Years)</option>
                                        <option value="36">36 Months (3 Years)</option>
                                        <option value="48">48 Months (4 Years)</option>
                                        <option value="60">60 Months (5 Years)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="purpose">Loan Purpose <span class="required">*</span></label>
                                    <select id="purpose" name="purpose" required>
                                        <option value="">Select Purpose</option>
                                        <option value="Personal">Personal</option>
                                        <option value="Business">Business</option>
                                        <option value="Education">Education</option>
                                        <option value="Home">Home Purchase</option>
                                        <option value="Vehicle">Vehicle Purchase</option>
                                        <option value="Debt">Debt Consolidation</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="description">Additional Details (Optional)</label>
                                    <textarea id="description" name="description" rows="3" placeholder="Provide details about your loan application..."></textarea>
                                </div>
                            </div>

                            <div style="background: linear-gradient(135deg, #1E3A8A 0%, #3B82F6 100%); padding: 20px; border-radius: 10px; margin-bottom: 20px; color: white;">
                                <p style="font-size: 14px; margin: 0 0 8px 0;"><strong>Estimated Monthly Payment:</strong> Rs. <span id="monthlyPayment">0</span></p>
                                <p style="font-size: 12px; margin: 5px 0 0 0; color: rgba(255, 255, 255, 0.85);"><em>Based on 10% annual interest rate. Final rate will be confirmed upon approval.</em></p>
                            </div>

                            <div style="display: flex; gap: 10px;">
                                <button type="submit" class="btn btn-primary" id="submitLoanBtn">Submit Application</button>
                                <button type="reset" class="btn" style="background-color: #e5e7eb; color: #333;">Clear Form</button>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- Profile Section -->
                <section id="profile" class="content-section active">
                    <div class="section-header">
                        <h2>ðŸ‘¤ My Profile</h2>
                        <p class="section-subtitle">View your personal and financial information</p>
                    </div>
                    
                    <div class="form-container">
                        <div class="profile-info">
                            <div class="info-row">
                                <div class="info-group">
                                    <label>First Name</label>
                                    <p id="profileFirstName">-</p>
                                </div>
                                <div class="info-group">
                                    <label>Last Name</label>
                                    <p id="profileLastName">-</p>
                                </div>
                            </div>

                            <div class="info-row">
                                <div class="info-group">
                                    <label>Email</label>
                                    <p id="profileEmail">-</p>
                                </div>
                                <div class="info-group">
                                    <label>Phone</label>
                                    <p id="profilePhone">-</p>
                                </div>
                            </div>

                            <div class="info-row">
                                <div class="info-group">
                                    <label>City</label>
                                    <p id="profileCity">-</p>
                                </div>
                                <div class="info-group">
                                    <label>Annual Income</label>
                                    <p id="profileIncome">-</p>
                                </div>
                            </div>

                            <div class="info-row">
                                <div class="info-group full-width">
                                    <label>Address</label>
                                    <p id="profileAddress">-</p>
                                </div>
                            </div>

                            <div class="info-row">
                                <div class="info-group">
                                    <label>ID Proof Type</label>
                                    <p id="profileIdType">-</p>
                                </div>
                                <div class="info-group">
                                    <label>ID Proof Number</label>
                                    <p id="profileIdNumber">-</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <script src="/static/js/customer-dashboard.js"></script>
</body>
</html>
