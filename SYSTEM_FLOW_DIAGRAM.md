# ğŸ“Š System Flow Diagram - Matches Your Requirements

## Complete System Architecture

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    LOAN MANAGEMENT SYSTEM - FLOW DIAGRAM                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚     ADMIN DASHBOARD LOGIN       â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                    [ADMIN LOGIN]
                                         â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   ADMIN MAIN DASHBOARD          â”‚
                          â”‚  â”œâ”€ Analytics/Stats             â”‚
                          â”‚  â”œâ”€ Manage Customers            â”‚
                          â”‚  â”œâ”€ Manage Loans                â”‚
                          â”‚  â””â”€ SMS Notifications           â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                              â”‚                              â”‚
          â–¼                              â–¼                              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  View ALL        â”‚    â”‚  Create LOAN for    â”‚         â”‚   Manage LOANS   â”‚
   â”‚  Customers       â”‚    â”‚  Specific Customer  â”‚         â”‚  (Review/Action) â”‚
   â”‚                  â”‚    â”‚                     â”‚         â”‚                  â”‚
   â”‚ â€¢ List All       â”‚    â”‚ â€¢ Select Customer   â”‚         â”‚ â€¢ Filter Status  â”‚
   â”‚ â€¢ View Details   â”‚    â”‚ â€¢ Enter Amount      â”‚         â”‚ â€¢ View Details   â”‚
   â”‚ â€¢ Create Loan    â”‚    â”‚ â€¢ Set Term          â”‚         â”‚ â€¢ Click Review   â”‚
   â”‚   Button         â”‚    â”‚ â€¢ Choose Purpose    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â€¢ Status: PENDINGâœ“  â”‚                  â”‚
                           â”‚ â€¢ Click "Create"    â”‚                  â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              [Review Modal]
                                    â”‚                             â”‚
                    [Loan Created]   â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                     â”‚                    â”‚  Loan Details   â”‚
                                     â”‚                    â”‚  Modal Opens    â”‚
                                     â”‚                    â”‚                 â”‚
                                     â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                     â”‚    â”‚  Loan Information            â”‚
                                     â”‚    â”‚  â”œâ”€ Customer Name            â”‚
                                     â”‚    â”‚  â”œâ”€ Loan Amount              â”‚
                                     â”‚    â”‚  â”œâ”€ Interest Rate            â”‚
                                     â”‚    â”‚  â”œâ”€ Monthly Payment          â”‚
                                     â”‚    â”‚  â””â”€ Annual Income            â”‚
                                     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚            â”‚
                                     â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                                     â”‚    â”‚               â”‚
                                     â”‚    â–¼               â–¼
                                     â”‚  [APPROVE]      [REJECT]
                                     â”‚    â”‚               â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                   â”‚                      â”‚               â”‚
                   â”‚                      â”‚         [Show Reason Input]
                   â”‚                      â”‚         Admin enters reason
                   â”‚                      â”‚               â”‚
                   â”‚                      â”‚         [Confirm Rejection]
                   â”‚                      â”‚               â”‚
                   â–¼                      â–¼               â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  POST /approve    â”‚  â”‚ POST /reject    â”‚  â”‚ POST /reject â”‚
         â”‚  (Backend API)    â”‚  â”‚ (Backend API)   â”‚  â”‚              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                  â”‚                      â”‚                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              BACKEND PROCESSING                                â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  LoanController.approveLoan() or rejectLoan()           â”‚  â”‚
        â”‚  â”‚  â†“                                                       â”‚  â”‚
        â”‚  â”‚  LoanService.approveLoan() / rejectLoan()               â”‚  â”‚
        â”‚  â”‚  â”œâ”€ Set status to APPROVED/REJECTED                    â”‚  â”‚
        â”‚  â”‚  â”œâ”€ Set approvalDate / rejectionReason                 â”‚  â”‚
        â”‚  â”‚  â”œâ”€ Calculate dates (start/end)                        â”‚  â”‚
        â”‚  â”‚  â””â”€ Save to MongoDB                                     â”‚  â”‚
        â”‚  â”‚  â†“                                                       â”‚  â”‚
        â”‚  â”‚  SMSNotificationService.sendLoan*Notification()         â”‚  â”‚
        â”‚  â”‚  â”œâ”€ Create message (async)                             â”‚  â”‚
        â”‚  â”‚  â”œâ”€ executorService.execute() [ThreadPool]             â”‚  â”‚
        â”‚  â”‚  â””â”€ Send to SMS API (non-blocking)                     â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   MULTITHREADING        â”‚
                    â”‚   ThreadPool Config     â”‚
                    â”‚  â”œâ”€ Core Threads: 10   â”‚
                    â”‚  â”œâ”€ Max Threads: 20    â”‚
                    â”‚  â”œâ”€ Queue: 100         â”‚
                    â”‚  â””â”€ Timeout: 60s       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   SEND SMS ASYNC        â”‚
                    â”‚  (Non-blocking)         â”‚
                    â”‚  â”œâ”€ Multiple Messages  â”‚
                    â”‚  â”œâ”€ In Parallel        â”‚
                    â”‚  â””â”€ Instant Return     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  CUSTOMER RECEIVES SMS              â”‚
              â”‚  â€¢ Approval Message                 â”‚
              â”‚  â€¢ OR                               â”‚
              â”‚  â€¢ Rejection Message                â”‚
              â”‚  â€¢ With Reason Included             â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CUSTOMER SIDE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€


                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   CUSTOMER DASHBOARD LOGIN      â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                   [CUSTOMER LOGIN]
                                         â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  CUSTOMER DASHBOARD             â”‚
                          â”‚  â”œâ”€ My Profile                  â”‚
                          â”‚  â”œâ”€ Apply for Loan              â”‚
                          â”‚  â””â”€ Loan Status                 â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                        â”‚                        â”‚
                â–¼                        â–¼                        â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  MY PROFILE      â”‚    â”‚ APPLY FOR LOAN   â”‚    â”‚  LOAN STATUS     â”‚
       â”‚                  â”‚    â”‚                  â”‚    â”‚                  â”‚
       â”‚ â€¢ First Name     â”‚    â”‚ â€¢ Amount         â”‚    â”‚ â€¢ Table of Loans â”‚
       â”‚ â€¢ Last Name      â”‚    â”‚ â€¢ Term           â”‚    â”‚ â€¢ Status Badges  â”‚
       â”‚ â€¢ Email          â”‚    â”‚ â€¢ Purpose        â”‚    â”‚ â€¢ Details Button â”‚
       â”‚ â€¢ Phone          â”‚    â”‚ â€¢ Description    â”‚    â”‚                  â”‚
       â”‚ â€¢ Income         â”‚    â”‚ â€¢ Calculate EMI  â”‚    â”‚ Status Colors:   â”‚
       â”‚ â€¢ Address        â”‚    â”‚ â€¢ Submit Form    â”‚    â”‚ â³ Yellow (Pending)
       â”‚ â€¢ ID Proof       â”‚    â”‚ â€¢ Status: PENDINGâ”‚    â”‚ âœ“ Green (Approved)
       â”‚                  â”‚    â”‚ â€¢ API: POST /    â”‚    â”‚ âœ— Red (Rejected) â”‚
       â”‚ Read-Only âœ“      â”‚    â”‚   loans          â”‚    â”‚                  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                [Loan Submitted]
                                        â”‚
                                        â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Loan Appears on Dashboard     â”‚
                        â”‚  â€¢ Status: PENDING             â”‚
                        â”‚  â€¢ Yellow Badge                â”‚
                        â”‚  â€¢ Waiting for Admin Review    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                          [Admin Approves/Rejects]
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ CUSTOMER RECEIVES SMS           â”‚
                    â”‚ â€¢ Notification appears          â”‚
                    â”‚ â€¢ Contains loan details         â”‚
                    â”‚ â€¢ Approval or Rejection Message â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  DASHBOARD UPDATES      â”‚
                    â”‚  â€¢ Refresh Page         â”‚
                    â”‚  â€¢ Status Changes to    â”‚
                    â”‚    â”œâ”€ APPROVED âœ“       â”‚
                    â”‚    â”‚  (Green Badge)    â”‚
                    â”‚    â””â”€ REJECTED âœ—       â”‚
                    â”‚       (Red Badge)      â”‚
                    â”‚  â€¢ Loan Shows New      â”‚
                    â”‚    Status              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  CUSTOMER VIEWS STATUS â”‚
                    â”‚  All 3 Sections:       â”‚
                    â”‚  1. Profile âœ“          â”‚
                    â”‚  2. Apply Loan âœ“       â”‚
                    â”‚  3. Loan Status âœ“      â”‚
                    â”‚     Shows All Loans    â”‚
                    â”‚     With Statuses      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Detailed Flow - Admin to Customer

```
STEP 1: Admin Create Loan
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Admin Dashboard
    â†“ Manage Customers
    â†“ Select Customer: "Faizan Ali"
    â†“ Click: "Create Loan"
    â†“ Modal opens with Customer ID pre-filled
    â†“ Fill: Amount (100,000), Term (12), Purpose (Home)
    â†“ Click: "Create Loan"
    â†“ Backend: POST /api/loans
    â†“ Status Set: PENDING âœ“
    â†“ Save to MongoDB
    â†“ Response: Success
    â†“ Admin sees: "âœ“ Loan created successfully!"


STEP 2: Customer View Profile
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Customer Dashboard Login
    â†“ Loaded on: "My Profile" tab (default)
    â†“ Backend: GET /api/customers/{userId}
    â†“ Display:
       â€¢ First Name: Faizan âœ“
       â€¢ Last Name: Ali âœ“
       â€¢ Email: faizan@example.com âœ“
       â€¢ Phone: +923001234567 âœ“
       â€¢ City: Karachi âœ“
       â€¢ Annual Income: Rs. 500,000 âœ“
       â€¢ Address: Main Road âœ“
       â€¢ ID Type: CNIC âœ“
       â€¢ ID Number: 12345-6789012-3 âœ“
    â†“ All fields: Read-only


STEP 3: Customer Apply for Loan
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Customer Dashboard
    â†“ Click: "Apply for Loan" tab
    â†“ Form appears with fields:
       â€¢ Loan Amount: 50,000
       â€¢ Loan Term: 6 months
       â€¢ Purpose: Business
       â€¢ Description: Personal business
    â†“ Real-time: EMI calculated
    â†“ Click: "Submit Application"
    â†“ Backend: POST /api/loans
    â†“ Status Set: PENDING âœ“
    â†“ Application Date: Current timestamp
    â†“ Saved to MongoDB
    â†“ Go to: "Loan Status" tab automatically
    â†“ New loan appears with PENDING status (yellow)


STEP 4: Admin Review Pending Loans
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Admin Dashboard
    â†“ Go to: "Manage Loans" section
    â†“ Filter: "PENDING (Awaiting Action)"
    â†“ See 2 loans:
       1. Faizan's created loan (100,000)
       2. Faizan's applied loan (50,000)
    â†“ Click: "Review" on first loan
    â†“ Modal opens showing complete details


STEP 5: Admin Approves Loan
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Loan Review Modal
    â†“ Click: "âœ“ Approve Loan" button
    â†“ Backend: POST /api/loans/{id}/approve
    â†“ Send: {approvedBy, phoneNumber, customerName}
    â†“ Backend Processing:
       â€¢ Status: PENDING â†’ APPROVED
       â€¢ ApprovalDate: Set to NOW
       â€¢ LoanStartDate: Set to NOW
       â€¢ LoanEndDate: Calculated (+12 months)
       â€¢ ApprovedBy: "Admin User"
       â€¢ Save to MongoDB
    â†“ SMS Service (Async ThreadPool):
       â€¢ executorService.execute()
       â€¢ Create: Approval message
       â€¢ Send to SMS API
       â€¢ Return immediately (non-blocking)
    â†“ Response to Admin: "âœ“ Loan approved successfully!"
    â†“ Modal closes
    â†“ Loan removed from PENDING
    â†“ Loan added to APPROVED list


STEP 6: SMS Delivery (Multithreading)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ThreadPool (10 concurrent threads)
    â†“ Queue SMS task
    â†“ Pick available thread
    â†“ Format SMS:
       "Dear Faizan Ali,
        Your loan (ID: 65a1b2...) 
        for â‚¹100,000 has been APPROVED.
        Visit office for formalities.
        Thank you!"
    â†“ Call SMS API (e.g., Twilio)
    â†“ Send message to: +923001234567
    â†“ SMS delivered to phone
    â†“ Thread released for next task
    â†“ No blocking - admin gets instant response


STEP 7: Customer Receives Notification
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Customer Phone
    â†“ SMS arrives: "âœ“ Loan Approved"
    â†“ Contains: Loan ID, Amount, Approval message
    â†“ Customer sees notification immediately


STEP 8: Customer Dashboard Updates
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Customer Dashboard (Auto-refresh or manual refresh)
    â†“ Go to: "Loan Status" tab
    â†“ Loan 1 (100,000): âœ“ APPROVED (Green badge)
    â†“ Loan 2 (50,000): â³ PENDING (Yellow badge)
    â†“ Both loans visible
    â†“ Status updated correctly
    â†“ Ready for next action


STEP 9: Admin Rejects Another Loan (Similar Process)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Admin Dashboard
    â†“ Go to: "Manage Loans" â†’ Filter "PENDING"
    â†“ Click: "Review" on second pending loan
    â†“ Modal opens
    â†“ Click: "âœ— Reject Loan"
    â†“ Reason input appears
    â†“ Admin enters: "Income verification incomplete"
    â†“ Click: "Yes, Reject"
    â†“ Backend: POST /api/loans/{id}/reject
    â†“ Backend Processing:
       â€¢ Status: PENDING â†’ REJECTED
       â€¢ RejectionReason: "Income verification incomplete"
       â€¢ Save to MongoDB
    â†“ SMS Service (Async):
       â€¢ Create: Rejection message with reason
       â€¢ Send: "Your loan rejected. Reason: Income verification incomplete"
       â€¢ Send to SMS API
    â†“ Response: "âœ— Loan rejected successfully!"
    â†“ Modal closes
    â†“ Loan removed from PENDING
    â†“ Loan added to REJECTED list


STEP 10: Customer Sees Rejection
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Customer Phone
    â†“ SMS arrives: "âœ— Loan Rejected"
    â†“ Contains: Loan ID, Rejection reason

Customer Dashboard (Auto-refresh)
    â†“ Go to: "Loan Status" tab
    â†“ Loan 1: âœ“ APPROVED (Green)
    â†“ Loan 2: âœ— REJECTED (Red)
    â†“ All statuses updated
    â†“ Complete workflow finished âœ“
```

---

## Status Badge Colors

```
Status        Badge    Color      Hex Code    Meaning
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PENDING       â³       Yellow     #fbbf24     Awaiting Admin Review
APPROVED      âœ“        Green      #10b981     Loan Active
REJECTED      âœ—        Red        #ef4444     Loan Denied
```

---

## API Endpoints Summary

```
Customer API Calls:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /api/customers/{userId}        â† Get Profile           â”‚
â”‚ POST /api/loans                    â† Apply for Loan        â”‚
â”‚ GET /api/loans/customer/{userId}   â† View Loan Status      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Admin API Calls:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /api/customers                 â† View All Customers     â”‚
â”‚ GET /api/customers/{id}            â† Customer Details       â”‚
â”‚ POST /api/loans                    â† Create Loan            â”‚
â”‚ GET /api/loans                     â† View All Loans         â”‚
â”‚ POST /api/loans/{id}/approve       â† Approve Loan           â”‚
â”‚ POST /api/loans/{id}/reject        â† Reject Loan            â”‚
â”‚ GET /api/loans/status/{status}     â† Filter by Status       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Complete Workflow Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     COMPLETE WORKFLOW                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  âœ“ Admin Dashboard:                                        â”‚
â”‚    1. View all customers                                  â”‚
â”‚    2. Create loans for customers (PENDING)                â”‚
â”‚    3. Review pending loans                                â”‚
â”‚    4. Approve loans (send SMS)                            â”‚
â”‚    5. Reject loans with reason (send SMS)                 â”‚
â”‚                                                            â”‚
â”‚  âœ“ Customer Dashboard:                                     â”‚
â”‚    1. View profile (read-only)                            â”‚
â”‚    2. Apply for loans (PENDING)                           â”‚
â”‚    3. View loan status (all statuses)                     â”‚
â”‚    4. Receive SMS notifications                           â”‚
â”‚    5. See updated status on dashboard                     â”‚
â”‚                                                            â”‚
â”‚  âœ“ SMS Notifications:                                      â”‚
â”‚    1. Sent asynchronously (ThreadPool)                    â”‚
â”‚    2. Non-blocking (instant return)                       â”‚
â”‚    3. Concurrent (10 threads)                             â”‚
â”‚    4. Scalable (100 queue capacity)                       â”‚
â”‚                                                            â”‚
â”‚  âœ“ Database:                                               â”‚
â”‚    1. Loans stored with PENDING status                    â”‚
â”‚    2. Dates calculated on approval                        â”‚
â”‚    3. Reasons saved on rejection                          â”‚
â”‚    4. All data persisted                                  â”‚
â”‚                                                            â”‚
â”‚  âœ“ Status Workflow:                                        â”‚
â”‚    PENDING â†’ APPROVED (Green)                             â”‚
â”‚    PENDING â†’ REJECTED (Red)                               â”‚
â”‚    Status updates in real-time                            â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Status**: âœ… COMPLETE WORKFLOW IMPLEMENTED
**Date**: January 15, 2026
**Version**: 1.0.2

